<!DOCTYPE html>
<html lang="en">


<head>
    <title>Greg's Gambits | The Battleground</title>
    
    <link href="greg.css" rel="stylesheet">
    
    <script>
    function battleIt()
    {
            var heroPlay = 0;
            var heroPts = 100;
            var trollPts = 100;
            var trollPlay = 0;
            var rocks = "magic rocks";
            var sword = "sword";
            var crossbow = "crossbow";
            var heroChoice = " ";
            var trollChoice = " ";
            
            document.getElementById("trollPts").innerHTML = (trollPts);
            document.getElementById("heroPts").innerHTML = (heroPts);
            document.getElementById("playerWeapon").innerHTML = ("Your Weapon: ");
            document.getElementById("trollWeapon").innerHTML = ("The Troll's Weapon");
            document.getElementById("winner").innerHTML = ("&nbsp;");
            
            //loop repeats until troll or player get 130 points
            while ((trollPts < 130) && (heroPts < 130)) 
            {
                // get player's weapon
                heroPlay = parseInt(prompt("Choose your weapon. (Enter 1 for magic rocks, 2 for the sword, 3 for the crossbow or enter 4 to leave the game): "));
                
                if (heroPlay == 4)
                    break;
                
                
                // get troll's weapon
                trollPlay = Math.floor(Math.random() * 3 + 1);
                
                // assign weapon to player and troll
                if (trollPlay == 1)
                    trollChoice = rocks;
                if (trollPlay == 2)
                    trollChoice = sword;
                if (trollPlay == 3)
                    trollChoice = crossbow;
                    
                if (heroPlay == 1)
                    heroChoice = rocks;
                if (heroPlay == 2)
                    heroChoice = sword;
                if (heroPlay == 3)
                    heroChoice = crossbow;
                
                //display weapon selections
                document.getElementById("playerWeapon").innerHTML = ("Your weapon: " + heroChoice);
                document.getElementById("trollWeapon").innerHTML = ("The troll's weapon: " + trollChoice);
                
                alert("Fight!");
                
                //find the winner
                if (((trollPlay == 1) && (heroPlay == 3)) || ((trollPlay == 2) && (heroPlay == 1)) || ((trollPlay == 3) && (heroPlay == 2)))
                {
                    document.getElementById("winner").innerHTML = ("<img src='images/troll.jpg'>");
                    
                    trollPts += 10;
                    heroPts -= 10;
                    
                    document.getElementById("trollPts").innerHTML = (trollPts);
                    document.getElementById("heroPts").innerHTML = (heroPts);
                }
                
                if (((heroPlay == 1) && (trollPlay == 3)) || ((heroPlay == 2) && (trollPlay == 1)) || ((heroPlay == 3) && (trollPlay == 2)))
                {
                    document.getElementById("winner").innerHTML = ("<img src='images/wizard.jpg'>");
                    
                    trollPts -= 10;
                    heroPts += 10;
                    
                    document.getElementById("trollPts").innerHTML = (trollPts);
                    document.getElementById("heroPts").innerHTML = (heroPts);
                }
                
                if (heroPlay == trollPlay)
                {
                    document.getElementById("winner").innerHTML = ("This round is a tie. Choose a new weapon...");
                }
            }
            
            //display the final winner
            if (heroPlay == 4)
                document.getElementById("winner").innerHTML = ("The wizard flees.");
            if (trollPts >= 130)
                document.getElementById("winner").innerHTML = ("The wizard was defeated.");
            if (heroPts >= 130)
                document.getElementById("winner").innerHTML = ("The troll has been slain. You are victorious!");
            
    }
    </script>
    
    <style type="text/css">
        <!--
            .style1 {font-size: 18px}
        -->
    </style>
</head>

<body>
    <div id="container">

        <img src="images/superhero.jpg" width="120" height="120" class="floatleft" />
        
        <h1 align="center">The Battleground</h1>
        <div style ="clear:both;"></div> 
        
        <div id="nav">
            <a href="index.html">Home</a>
            <a href="greg.html">About Greg</a>
            <a href="aboutyou.html">Tell Greg About You</a>
            <a href="playGames.html">Play a Game</a>
            <a href="signIn.html">Sign In</a>
            <a href="contact.html">Contact Us</a>
        </div>
        
        <div id="content">
            <table class="noBorders" width = "85%" cellpadding="5" cellspacing="0" border = "0">
                <tr>
                    <td><img src="images/wizard.jpg" width="120" height="168" /></td>
                    <td><img src="images/troll.jpg" width="120" height="168" /></td>
                </tr>
                <tr>
                    <td><span class="style1">Wizard uses: </span></td>
                    <td><span class="style1">Troll uses: </span></td>
                </tr>
                <tr>
                    <td id = "playerWeapon" span class="style1">Weapon goes here</span></td>
                    <td id = "trollWeapon" span class="style1">Weapon goes here</span></td>
                </tr>
                <tr>
                    <td colspan = 2><span class="style1">The winner is:</span></td>
                </tr>
                <tr>
                    <td colspan = 2 id="winner" align = "center" class="style1">&nbsp;</td>
                </tr>
                <tr>
                    <td><span class="style1">Wizard points: </span></td> 
                    <td><span class="style1">Troll points:</span></td>
                </tr>  
                <tr>
                    <td class="style1" id = "heroPts">100</td> <td class="style1" id = "trollPts">100</td>
                </tr>
                <tr>
                    <td><button onclick="battleIt()">Let the battle begin!</button></td>
                    <td><button onclick="location.href = 'gregBattle.html'">Return to battle instructions</button></td>
                </tr>
            </table>
        </div>
        
        <div id="footer">
            Copyright &copy; 2013 Greg's Gambits<br>
            <a href="mailto:byron.p.burdette@my.sfcollege.edu">byron.p.burdette@my.sfcollege.edu</a>
        </div>
    </div>
</body>
</html>
